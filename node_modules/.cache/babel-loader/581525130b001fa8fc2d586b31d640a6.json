{"ast":null,"code":"var _jsxFileName = \"/home/beast/Downloads/Chat-Application/src/Components/EditProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogTitle, Snackbar } from \"@material-ui/core\";\nimport { db } from \"../Firebase/Firebase\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  paper: {\n    borderRadius: 16,\n    background: \"rgba(30, 30, 47, 0.8)\",\n    backdropFilter: \"blur(10px)\",\n    color: \"white\",\n    padding: \"10px\"\n  },\n  textField: {\n    backgroundColor: \"rgba(45, 45, 73, 0.6)\",\n    borderRadius: \"6px\",\n    \"& input\": {\n      color: \"#fff\"\n    },\n    \"& label\": {\n      color: \"#a6a6a6\"\n    }\n  }\n}));\nfunction EditProfile({\n  toggler\n}) {\n  _s();\n  const classes = useStyles();\n  const [open, setOpen] = useState(true);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [uid, setUid] = useState(\"\");\n  const handleClose = () => {\n    setOpen(false);\n    toggler();\n  };\n  const updateProfile = async e => {\n    e.preventDefault();\n    try {\n      await db.collection(\"users\").doc(uid).update({\n        displayName\n      });\n      setSnackOpen(true); // ✅ First, show the Snackbar\n\n      // ✅ Delay closing dialog so Snackbar has time to show\n      setTimeout(() => {\n        setOpen(false);\n        toggler();\n      }, 1000);\n    } catch (err) {\n      console.error(\"Update failed:\", err);\n    }\n  };\n  const handleSnackClose = () => {\n    setSnackOpen(false);\n  };\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem(\"userDetails\"));\n    if (userData) {\n      setUserName(userData.name);\n      setDisplayName(userData.displayName);\n      setEmail(userData.email);\n      setUid(userData.uid);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      PaperProps: {\n        className: classes.paper\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        style: {\n          fontWeight: \"bold\"\n        },\n        children: \"Edit User Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Name\",\n            fullWidth: true,\n            margin: \"normal\",\n            variant: \"outlined\",\n            disabled: true,\n            value: userName,\n            className: classes.textField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Email\",\n            fullWidth: true,\n            margin: \"normal\",\n            variant: \"outlined\",\n            disabled: true,\n            value: email,\n            className: classes.textField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Display Name\",\n            fullWidth: true,\n            margin: \"normal\",\n            variant: \"outlined\",\n            value: displayName,\n            onChange: e => setDisplayName(e.target.value),\n            className: classes.textField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          style: {\n            color: \"white\"\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: updateProfile,\n          color: \"primary\",\n          variant: \"contained\",\n          style: {\n            borderRadius: \"8px\"\n          },\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      open: snackOpen,\n      autoHideDuration: 3000,\n      onClose: handleSnackClose,\n      message: \"Profile updated successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfile, \"bjNgtj2VX4cvC2Gom1FajGXaktM=\", false, function () {\n  return [useStyles];\n});\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","useEffect","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Snackbar","db","makeStyles","jsxDEV","_jsxDEV","useStyles","paper","borderRadius","background","backdropFilter","color","padding","textField","backgroundColor","EditProfile","toggler","_s","classes","open","setOpen","snackOpen","setSnackOpen","userName","setUserName","displayName","setDisplayName","email","setEmail","uid","setUid","handleClose","updateProfile","e","preventDefault","collection","doc","update","setTimeout","err","console","error","handleSnackClose","userData","JSON","parse","localStorage","getItem","name","children","onClose","PaperProps","className","style","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","autoComplete","label","fullWidth","margin","variant","disabled","value","onChange","target","onClick","anchorOrigin","vertical","horizontal","autoHideDuration","message","_c","$RefreshReg$"],"sources":["/home/beast/Downloads/Chat-Application/src/Components/EditProfile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Snackbar,\n} from \"@material-ui/core\";\nimport { db } from \"../Firebase/Firebase\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    borderRadius: 16,\n    background: \"rgba(30, 30, 47, 0.8)\",\n    backdropFilter: \"blur(10px)\",\n    color: \"white\",\n    padding: \"10px\",\n  },\n  textField: {\n    backgroundColor: \"rgba(45, 45, 73, 0.6)\",\n    borderRadius: \"6px\",\n    \"& input\": {\n      color: \"#fff\",\n    },\n    \"& label\": {\n      color: \"#a6a6a6\",\n    },\n  },\n}));\n\nfunction EditProfile({ toggler }) {\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(true);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [uid, setUid] = useState(\"\");\n\n  const handleClose = () => {\n    setOpen(false);\n    toggler();\n  };\n\n  const updateProfile = async (e) => {\n    e.preventDefault();\n    try {\n      await db.collection(\"users\").doc(uid).update({ displayName });\n\n      setSnackOpen(true); // ✅ First, show the Snackbar\n\n      // ✅ Delay closing dialog so Snackbar has time to show\n      setTimeout(() => {\n        setOpen(false);\n        toggler();\n      }, 1000);\n    } catch (err) {\n      console.error(\"Update failed:\", err);\n    }\n  };\n\n  const handleSnackClose = () => {\n    setSnackOpen(false);\n  };\n\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem(\"userDetails\"));\n    if (userData) {\n      setUserName(userData.name);\n      setDisplayName(userData.displayName);\n      setEmail(userData.email);\n      setUid(userData.uid);\n    }\n  }, []);\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        PaperProps={{ className: classes.paper }}\n      >\n        <DialogTitle style={{ fontWeight: \"bold\" }}>\n          Edit User Profile\n        </DialogTitle>\n        <DialogContent>\n          <form autoComplete=\"off\">\n            <TextField\n              label=\"Name\"\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              disabled\n              value={userName}\n              className={classes.textField}\n            />\n            <TextField\n              label=\"Email\"\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              disabled\n              value={email}\n              className={classes.textField}\n            />\n            <TextField\n              label=\"Display Name\"\n              fullWidth\n              margin=\"normal\"\n              variant=\"outlined\"\n              value={displayName}\n              onChange={(e) => setDisplayName(e.target.value)}\n              className={classes.textField}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} style={{ color: \"white\" }}>\n            Cancel\n          </Button>\n          <Button\n            onClick={updateProfile}\n            color=\"primary\"\n            variant=\"contained\"\n            style={{ borderRadius: \"8px\" }}\n          >\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* ✅ Snackbar */}\n      <Snackbar\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        open={snackOpen}\n        autoHideDuration={3000}\n        onClose={handleSnackClose}\n        message=\"Profile updated successfully!\"\n      />\n    </div>\n  );\n}\n\nexport default EditProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}